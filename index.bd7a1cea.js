function t(t,e,s,r){Object.defineProperty(t,e,{get:s,set:r,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=s.parcelRequirea26f;null==n&&((n=function(t){if(t in r)return r[t].exports;if(t in a){var e=a[t];delete a[t];var s={id:t,exports:{}};return r[t]=s,e.call(s.exports,s,s.exports),s.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){a[t]=e},s.parcelRequirea26f=n),n.register("27Lyk",(function(e,s){var r,a;t(e.exports,"register",(()=>r),(t=>r=t)),t(e.exports,"resolve",(()=>a),(t=>a=t));var n={};r=function(t){for(var e=Object.keys(t),s=0;s<e.length;s++)n[e[s]]=t[e[s]]},a=function(t){var e=n[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),n("27Lyk").register(JSON.parse('{"izUj7":"index.bd7a1cea.js","27t5j":"remove-gray.994aa2a2.svg","d7HoB":"title.bf830992.svg","k4C1X":"description-add.7bf61666.svg","6UDyu":"user.38c4dfba.svg","5mCTV":"prev.d5d85dc3.svg","cqvWD":"next.d2d88672.svg","dEyoZ":"remove.431b481e.svg","gTh5U":"plus.617f88a5.svg","92KfV":"remove-all.c2377a58.svg","8GSma":"index.51bd778a.css"}'));const o=document.getElementById("root");var i=(...t)=>{t.forEach((t=>{o.append("function"==typeof t?t():t)}))};const l=new class{#t={};set(t,e){this.#t[t]=e}get(t){return t?this.#t[t]:this.#t}remove(t){if(t&&(this.#t[t].remove(),delete this.#t[t]),!t){for(const t of Object.values(this.#t))t.remove();this.#t={}}}};var c={ref(t,e){e(t)},key(t,e){l.set(e,t)},onClick(t,e){t.addEventListener("click",(s=>e(s,t)))},onChange(t,e){t.addEventListener("input",(s=>{t.setAttribute("value",s.target.value),e(s,t)}))}};const u=(t,e={},s=[])=>{for(const[s,r]of Object.entries(e)){const e=c.hasOwnProperty(s);e&&c[s](t,r),!e&&r&&t.setAttribute(s,r)}return s.forEach((e=>t.append("function"==typeof e?e():e))),t},d=t=>document.createElement(t),p=(t,...e)=>u(d("header"),t,e),h=(t,...e)=>u(d("a"),t,e),f=(t,...e)=>u(d("div"),t,e),v=(t,...e)=>u(d("time"),t,e),g=(t,...e)=>u(d("button"),t,e),m=t=>u(d("img"),t),_=(t,...e)=>u(d("section"),t,e),b=(t,...e)=>u(d("h2"),t,e),y=(t,...e)=>u(d("label"),t,e),S=(t,...e)=>u(d("select"),t,e),w=(t,...e)=>u(d("option"),t,e),k=(t,...e)=>u(d("textarea"),t,e),C=(t,...e)=>u(d("span"),t,e);var E=(t=null)=>{const e=s=>e.current=s||t;return e};var R,T,L,x={};t(x,"logo",(()=>R),(t=>R=t)),t(x,"time",(()=>T),(t=>T=t)),t(x,"container",(()=>L),(t=>L=t)),R="EdGWLG_logo",T="EdGWLG_time",L="EdGWLG_container";var H,F=()=>{const t=E(null);let s=!1;return setInterval((()=>{const e=new Date,r=("0"+e.getHours()).slice(-2),a=("0"+e.getMinutes()).slice(-2);s=!s;const n=s?":":" ";t.current.innerText=`${r}${n}${a}`}),1e3),p({class:e(x).container},h({href:"/"},f({class:e(x).logo})),v({ref:t,class:e(x).time},"--:--"))},q={};t(q,"container",(()=>H),(t=>H=t)),H="iltFnG_container";var W=(...t)=>_({class:e(q).container},...t);const U={"Content-Type":"application/json;charset=utf-8"};var j=new class{async get(t){const e=await fetch("https://634008aad1fcddf69caf8231.mockapi.io/"+t);return await e.json()}async post(t,e,s){const r=await fetch("https://634008aad1fcddf69caf8231.mockapi.io/"+t,{method:"POST",headers:U,body:JSON.stringify(e),...s}),a=await r.json();return{status:r.status,data:a}}async put(t,e,s){const r=await fetch("https://634008aad1fcddf69caf8231.mockapi.io/"+t,{method:"PUT",headers:U,body:JSON.stringify(e),...s}),a=await r.json();return{status:r.status,data:a}}async delete(t){const e=await fetch("https://634008aad1fcddf69caf8231.mockapi.io/"+t,{method:"DELETE"}),s=await e.json();return{status:e.status,data:s}}};const A=new class{#e=null;#s=null;constructor(t){this.#e=t,this.#s=this.#e}get state(){return this.#s}set state(t){this.#s=t}clear(){this.#s=this.#e}}({});var O=class{#r=[];#a=null;#s=null;#e=null;constructor(t){this.#e=t,this.#s=t,this.#a=t}init(t){this.#s=[...this.#s,...t],this.#n("init")}set state(t){this.#s=[...this.#s,t],this.#n("set")}get state(){return this.#s}update(t){const e=this.#s.findIndex((e=>e.id===t.id));this.#a=[...this.#s],this.#s[e]=t,this.#n("update")}#n(t){this.broadcast(t),this.#a=this.#s}remove(t){t&&(this.#s=this.#s.filter((e=>e.id!==t)),l.remove(t)),t||(this.#s.forEach((t=>{l.remove(t.id)})),this.#s=this.#e,this.#a=this.#e),this.#n("remove")}subscribe(t){this.#r.push(t)}unsubscribe(t){this.#r=this.#r.filter((e=>e!==t))}broadcast(t){this.#r.forEach((e=>e(this.#a,this.#s,t)))}};j.get("users").then((t=>{D.init(t)})),j.get("todos").then((t=>{const e=[],s=[],r=[];t.forEach((t=>{"wait"===t.progress&&e.push(t),"work"===t.progress&&s.push(t),"done"===t.progress&&r.push(t)})),G.init(e),K.init(s),B.init(r)}));const D=new O([]),G=new O([]),K=new O([]),B=new O([]),$=["January","February","March","April","May","June","July","August","September","October","November","December"],N=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var I,Z,Y,M,P,J,V,X,z,Q,tt,et,st=()=>{const t=new Date,e=t.getFullYear(),s=t.getMonth(),r=t.getDate(),a=t.getDay();return`${N[a]}, ${r} ${$[s]}, ${e}`},rt={};t(rt,"responsible",(()=>I),(t=>I=t)),t(rt,"container",(()=>Z),(t=>Z=t)),t(rt,"warning",(()=>Y),(t=>Y=t)),t(rt,"groupButtons",(()=>M),(t=>M=t)),t(rt,"title",(()=>P),(t=>P=t)),t(rt,"bounce",(()=>J),(t=>J=t)),t(rt,"descriptionTextarea",(()=>V),(t=>V=t)),t(rt,"titleInput",(()=>X),(t=>X=t)),t(rt,"users",(()=>z),(t=>z=t)),t(rt,"description",(()=>Q),(t=>Q=t)),t(rt,"close",(()=>tt),(t=>tt=t)),t(rt,"dialog",(()=>et),(t=>et=t)),I="_7kvKSW_responsible",Z="_7kvKSW_container",Y="_7kvKSW_warning",M="_7kvKSW_groupButtons",P="_7kvKSW_title",J="_7kvKSW_bounce",V="_7kvKSW_descriptionTextarea",X="_7kvKSW_titleInput",z="_7kvKSW_users",Q="_7kvKSW_description",tt="_7kvKSW_close",et="_7kvKSW_dialog";var at;at=new URL(n("27Lyk").resolve("27t5j"),import.meta.url).toString();var nt;nt=new URL(n("27Lyk").resolve("d7HoB"),import.meta.url).toString();var ot;ot=new URL(n("27Lyk").resolve("k4C1X"),import.meta.url).toString();var it;it=new URL(n("27Lyk").resolve("6UDyu"),import.meta.url).toString();const lt=t=>{t.focus(),t.classList.add(e(rt).warning),setTimeout((()=>t.classList.remove(e(rt).warning)),200)};var ct,ut,dt,pt,ht,ft,vt,gt=t=>{const{title:s="",description:r="",userId:a,id:n,progress:o}=t||{},i=E(null),l=E(null),c=E(null),p=E(null),h=E(null);D.subscribe(((t,e,s)=>{"init"===s&&h.current.append(...e.map((t=>w({value:t.id,selected:t.id===a},t.username))))})),n&&(A.state=t);const v=()=>{i.current.remove(),A.clear()};return f({ref:i,class:e(rt).container},f({ref:l,class:e(rt).dialog},g({class:e(rt).close,onClick:v},m({src:e(at),alt:"Close dialog"})),y({},C({class:e(rt).title},m({src:e(nt),alt:"title"}),"Title"),(_={ref:c,type:"text",value:s,placeholder:"Enter title...",class:e(rt).titleInput,onChange:t=>{A.state={...A.state,title:t.target.value}}},u(d("input"),_))),y({},C({class:e(rt).description},m({src:e(ot),alt:"title"}),"Description"),k({ref:p,type:"text",placeholder:"Enter description...",class:e(rt).descriptionTextarea,onChange:t=>{A.state={...A.state,description:t.target.value}}},r)),f({},f({class:e(rt).responsible},m({src:e(it),alt:"title"}),"Contributor"),S({ref:h,class:e(rt).users,onChange:t=>{const{username:e}=D.state.find((e=>e.id===t.target.value))||{};A.state={...A.state,userId:t.target.value,username:e||"username"}}},w({value:"0"},"Select user"),...D.state.map((t=>w({value:t.id,selected:t.id===a},t.username))))),f({class:e(rt).groupButtons},g({type:"button",class:"cancel-button _ripple",onClick:v},"Cancel"),g({type:"button",class:"confirm-button _ripple",onClick:()=>{A.state.title?A.state.description?(n&&("wait"===o&&G.update(A.state),"work"===o&&K.update(A.state),"done"===o&&B.update(A.state),j.put(`todos/${n}`,A.state)),n||(A.state={...A.state,date:st(),progress:"wait"},j.post("todos",A.state).then((({status:t,data:e})=>{if(201!==t)return console.error("Unsuccessful request");G.state=e}))),v()):lt(p.current):lt(c.current)}},n?"Save":"New todo"))));var _},mt={};t(mt,"close",(()=>ct),(t=>ct=t)),t(mt,"groupButtons",(()=>ut),(t=>ut=t)),t(mt,"title",(()=>dt),(t=>dt=t)),t(mt,"responsible",(()=>pt),(t=>pt=t)),t(mt,"explanation",(()=>ht),(t=>ht=t)),t(mt,"dialog",(()=>ft),(t=>ft=t)),t(mt,"container",(()=>vt),(t=>vt=t)),ct="ZmahRq_close",ut="ZmahRq_groupButtons",dt="ZmahRq_title",pt="ZmahRq_responsible",ht="ZmahRq_explanation",ft="ZmahRq_dialog",vt="ZmahRq_container";var _t,bt,yt,St,wt,kt,Ct,Et,Rt=(t,s)=>{const r=E(null),a=E(null),n=E(null);let o="";const i=()=>{r.current.remove()};"default"!==s&&(o=g({type:"button",class:"cancel-button _ripple",onClick:i},"Cancel"));return f({ref:r,class:e(mt).container},f({ref:a,class:e(mt).dialog},g({class:e(mt).close,onClick:i},m({src:e(at),alt:"Close dialog"})),y({},C({class:e(mt).title},"Warning"),y({ref:n,class:e(mt).explanation},t)),f({class:e(mt).groupButtons},o,g({type:"button",class:"confirm-button _ripple",onClick:()=>{r.current.remove();const t=B.state.map((t=>j.delete("todos/"+t.id)));B.remove(),Promise.all(t).then((t=>{t.filter((t=>200!==t.status)).forEach((t=>B.state=t))}))}},"Confirm"))))},Tt={};t(Tt,"title",(()=>_t),(t=>_t=t)),t(Tt,"container",(()=>bt),(t=>bt=t)),t(Tt,"wrapper",(()=>yt),(t=>yt=t)),t(Tt,"data",(()=>St),(t=>St=t)),t(Tt,"group",(()=>wt),(t=>wt=t)),t(Tt,"info",(()=>kt),(t=>kt=t)),t(Tt,"header",(()=>Ct),(t=>Ct=t)),t(Tt,"btn",(()=>Et),(t=>Et=t)),_t="hoqS_a_title",bt="hoqS_a_container",yt="hoqS_a_wrapper",St="hoqS_a_data",wt="hoqS_a_group",kt="hoqS_a_info",Ct="hoqS_a_header",Et="hoqS_a_btn";var Lt;Lt=new URL(n("27Lyk").resolve("5mCTV"),import.meta.url).toString();var xt;xt=new URL(n("27Lyk").resolve("cqvWD"),import.meta.url).toString();var Ht;Ht=new URL(n("27Lyk").resolve("dEyoZ"),import.meta.url).toString();var Ft=t=>{const{id:s,title:r,username:a,date:n,progress:o}=t||{},l=()=>{if("wait"===o){if(K.state.length>=6)return void i(Rt("You cannot add more tnan 6 tasks to complete!","default"));t.progress="work",G.remove(s),K.state=t}"work"===o&&(t.progress="done",K.remove(s),B.state=t),j.put(`todos/${s}`,t)},c=()=>{"wait"===o&&G.remove(s),"work"===o&&K.remove(s),"done"===o&&B.remove(s),j.delete(`todos/${s}`)};let u;return"wait"===o&&(u=[g({type:"button",class:e(Tt).btn,onClick:l},m({src:e(xt),alt:"Next this"})),g({type:"button",class:e(Tt).btn,onClick:c},m({src:e(Ht),alt:"Remove this"}))]),"work"===o&&(u=[g({type:"button",class:e(Tt).btn,onClick:()=>{t.progress="wait",K.remove(s),G.state=t,j.put(`todos/${s}`,t)}},m({src:e(Lt),alt:"Prev this"})),g({type:"button",class:e(Tt).btn,onClick:l},m({src:e(xt),alt:"Next this"}))]),"done"===o&&(u=[g({type:"button",class:e(Tt).btn,onClick:c},m({src:e(Ht),alt:"Remove this"}))]),f({key:s,class:e(Tt).container},f({class:e(Tt).header,onClick:()=>{i(gt(t))}},f({class:e(Tt).title},r)),f({class:e(Tt).info},f({class:e(Tt).wrapper},f({},f({},`${a&&!a.startsWith("username")?a:"No contributor"}`),f({class:e(Tt).data},n)),f({class:e(Tt).group},...u))))};var qt,Wt,Ut,jt,At,Ot,Dt=(t,e)=>{if(t===e)return!0;const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(let s in t)if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1;return!0},Gt={};t(Gt,"container",(()=>qt),(t=>qt=t)),t(Gt,"items",(()=>Wt),(t=>Wt=t)),t(Gt,"counter",(()=>Ut),(t=>Ut=t)),t(Gt,"header",(()=>jt),(t=>jt=t)),t(Gt,"title",(()=>At),(t=>At=t)),t(Gt,"addTodoBtn",(()=>Ot),(t=>Ot=t)),qt="YT74FG_container",Wt="YT74FG_items",Ut="YT74FG_counter",jt="YT74FG_header",At="YT74FG_title",Ot="YT74FG_addTodoBtn";var Kt;Kt=new URL(n("27Lyk").resolve("gTh5U"),import.meta.url).toString();var Bt=()=>{const t=E(null),s=E(null);G.subscribe(((e,r,a)=>{if("update"!==a){s.current.innerText=r.length;const a=r.filter((t=>!e.find((e=>e.id===t.id)))).map((t=>Ft(t)));t.current.append(...a)}if("update"===a){const s=r.find(((t,s)=>!Dt(e[s],t)));if(s){const e=l.get(s.id);t.current.replaceChild(Ft(s),e)}}}));return f({class:e(Gt).container},f({class:e(Gt).header},b({class:e(Gt).title},"Todo list"),f({ref:s,class:e(Gt).counter},0)),f({ref:t,class:e(Gt).items}),g({type:"button",class:[e(Gt).addTodoBtn,"_ripple"].join(" "),onClick:()=>{i(gt)}},m({src:e(Kt),alt:"new todo"}),"New todo"))};var $t,Nt=()=>{const t=E(null),s=E(null);return K.subscribe(((e,r,a)=>{if("update"!==a){s.current.innerText=r.length;const a=r.filter((t=>!e.find((e=>e.id===t.id)))).map((t=>Ft(t)));t.current.append(...a)}if("update"===a){const s=r.find(((t,s)=>!Dt(e[s],t)));if(s){const e=l.get(s.id);t.current.replaceChild(Ft(s),e)}}})),f({class:e(Gt).container},f({class:e(Gt).header},b({class:e(Gt).title},"In progress"),f({ref:s,class:e(Gt).counter},0)),f({ref:t,class:e(Gt).items}))};$t=new URL(n("27Lyk").resolve("92KfV"),import.meta.url).toString();var It=()=>{const t=E(null),s=E(null);B.subscribe(((e,r,a)=>{if("update"!==a){s.current.innerText=r.length;const a=r.filter((t=>!e.find((e=>e.id===t.id)))).map((t=>Ft(t)));t.current.append(...a)}if("update"===a){const s=r.find(((t,s)=>!Dt(e[s],t)));if(s){const e=l.get(s.id);t.current.replaceChild(Ft(s),e)}}}));return f({class:e(Gt).container},f({class:e(Gt).header},b({class:e(Gt).title},"Done"),f({ref:s,class:e(Gt).counter},0)),f({ref:t,class:e(Gt).items}),g({type:"button",class:[e(Gt).addTodoBtn,"_ripple"].join(" "),onClick:()=>{i(Rt("Are you sure you want to remove all items?","forRemove"))}},m({src:e($t),alt:"new todo"}),"Remove all"))};i(F,W(Bt,Nt,It));
//# sourceMappingURL=index.bd7a1cea.js.map
